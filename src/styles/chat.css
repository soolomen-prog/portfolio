/* ===============================
   UI LINES (top + vertical)
================================ */

:root {
  --header-h: 46px;     /* высота нижней шапки */
  --gap-desktop: 46px;  /* отступ инпута от шапки на десктопе */
  --gap-mobile: 18px;   /* отступ инпута от шапки на мобиле */
  --ui-text: #262626;
}

.ui-lines {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 2;
}

.ui-line {
  position: absolute;
  background: var(--ui-line-color, rgba(0, 0, 0, 0.12));
}

.ui-line--v-center {
  top: 8px;
  bottom: 0;
  left: 50%;
  width: 1px;
  transform: translateX(-0.5px);
}

.ui-line--h-left {
  top: 8px;
  left: 8px;
  right: calc(50% + 8px);
  height: 1px;
}

.ui-line--h-right {
  top: 8px;
  left: calc(50% + 8px);
  right: 8px;
  height: 1px;
}

/* ===============================
   HEADER tweaks for chat page
================================ */

.site-header--chat {
  z-index: 60; /* шапка всегда поверх */
}

.header-left--chat {
  display: flex;
  align-items: center;
  gap: 24px;
}

.header-left-nav {
  display: flex;
  align-items: center;
  gap: 24px;
}

.header-right--chat {
  display: flex;
  align-items: center;
  gap: 24px;
}

.nav-item--regular {
  font-weight: 400 !important;
}

/* ===============================
   CHAT PAGE LAYOUT
   Важно: даём странице понятную высоту,
   чтобы внутри появился скролл у .chat-content
================================ */

.chat-page {
  position: relative;
  z-index: 3;
  height: calc(100vh - var(--header-h)); /* место под нижнюю шапку */
}

.chat-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  height: 100%;
}

/* ===============================
   COLUMNS
================================ */

.chat-column {
  position: relative;
  padding: 0 46px;
}

/* RIGHT колонка — контейнер для:
   1) скроллящегося контента
   2) прибитого инпута */
.chat-right {
  display: flex;
  flex-direction: column;
  height: 100%;
  min-height: 0;
  overflow: hidden; /* скролл только у .chat-content */
}

/* ===============================
   CHAT CONTENT (SCROLL AREA)
   Здесь должен быть скролл
================================ */

.chat-content {
  flex: 1;
  min-height: 0;
  overflow-y: auto;

  display: flex;
  flex-direction: column;
  justify-content: flex-end;

  padding-top: 100px;

  /* чтобы контент не прятался под прибитый инпут */
  padding-bottom: calc(84px + 18px + 28px + var(--gap-desktop));
}

/* hide scrollbar */
.chat-content::-webkit-scrollbar {
  width: 0;
}
.chat-content {
  scrollbar-width: none;
}

/* ===============================
   INTRO MESSAGE
================================ */

.chat-message--intro {
  font-size: 26px;
  line-height: 26px;
  font-weight: 500;
}

.chat-intro-text {
  margin: 0;
}

.chat-intro-list {
  margin-top: 46px;
}

.chat-intro-heading {
  margin: 0 0 8px;
  font-weight: 500;
}

.chat-intro-list ul {
  list-style: none;
  margin: 0;
  padding-left: 0;
}

.chat-intro-list li {
  position: relative;
  padding-left: 28px;
  margin-bottom: 4px;
  font-weight: 500;
}

.chat-intro-list li::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0.25em;
  width: 14px;
  height: 14px;
  background-color: currentColor;
  mask: url('/src/assets/icons/star.svg') no-repeat center;
  -webkit-mask: url('/src/assets/icons/star.svg') no-repeat center;
  mask-size: contain;
  -webkit-mask-size: contain;
}

/* ===============================
   BOT HEADER (ICON + SPACING)
================================ */

.chat-bot-header {
  margin-bottom: 28px;
}

.chat-bot-header img {
  display: block;
  width: 42px;
  height: 42px;
}

/* ===============================
   DIALOG
================================ */

.chat-dialog {
  margin-top: 46px;
}

.chat-message {
  margin-bottom: 18px;
}

/* ===============================
   BUBBLES (Regular 18/24)
================================ */

.chat-bubble {
  max-width: 80%;
  padding: 16px 20px;
  border-radius: 16px;
  font-size: 18px;
  line-height: 24px;
  font-weight: 400;
}

.chat-bubble--bot {
  background: #f7d6e8;
}

.chat-message--user {
  display: flex;
  justify-content: flex-end;
}

.chat-bubble--user {
  background: #eff5fb;
}

.chat-author {
  margin-top: 8px;
  font-size: 14px;
  line-height: 18px;
  color: #999999;
  font-weight: 400;
}

/* ===============================
   INPUT (PINNED)
   Инпут прибит к низу колонки, но выше шапки:
   desktop: 46px
================================ */

.chat-input-wrapper {
  position: absolute;
  left: 0;
  right: 0;
  bottom: calc(var(--header-h) + var(--gap-desktop));
}

.chat-input {
  position: relative;
  height: 84px;
  background: #eff5fb;
  border-radius: 42px;
  display: flex;
  align-items: center;
}

.chat-input-field {
  flex: 1;
  height: 100%;
  border: none;
  background: transparent;
  padding-left: 34px;
  font-size: 18px;
  line-height: 24px;
  font-weight: 400;
  outline: none;
  color: var(--ui-text);
}

.chat-input-field::placeholder {
  color: #999999;
  font-weight: 400;
}

.chat-send {
  width: 180px;
  height: 56px;
  margin-right: 14px;
  border-radius: 28px;
  border: none;
  background: #262626;
  color: #fff;
  font-size: 18px;
  line-height: 24px;
  font-weight: 400;
  cursor: pointer;
}

.chat-send:hover {
  background: #ff0095;
}

.chat-hint {
  margin-top: 8px;
  font-size: 14px;
  line-height: 18px;
  color: #999999;
  font-weight: 400;
}

/* ===============================
   CONTACT LEFT (appears after 20s)
================================ */

.chat-contact {
  position: absolute;
  left: 46px;
  bottom: 46px;
  opacity: 0;
  pointer-events: none;

  animation: chatContactFadeIn 0.4s ease forwards;
  animation-delay: 20s;
}

@keyframes chatContactFadeIn {
  to {
    opacity: 1;
    pointer-events: auto;
  }
}

.chat-contact-icon {
  width: 42px;
  height: 42px;
  margin-bottom: 28px;
}

.chat-contact-text p {
  margin: 0 0 4px;
  font-weight: 500;
}

.chat-contact-text a {
  color: #262626;
  text-decoration: underline;
  font-weight: 500;
  transition: color 0.2s ease;
}

.chat-contact-text a:hover {
  color: var(--hover);
}

/* ===============================
   RESPONSIVE
================================ */

/* ≤ 1204px — скрываем левый контакт */
@media (max-width: 1204px) {
  .chat-contact {
    display: none;
  }
}

/* ≤ 1024px — одна колонка */
@media (max-width: 1024px) {
  .chat-grid {
    grid-template-columns: 1fr;
  }

  .chat-left {
    display: none;
  }

  .chat-column {
    padding-left: 46px;
    padding-right: 46px;
  }

  .ui-line--v-center {
    display: none;
  }

  .ui-line--h-left {
    right: 8px;
  }

  .ui-line--h-right {
    display: none;
  }
}

/* ≤ 500px — мобильные отступы + типографика + pinned input gap */
@media (max-width: 500px) {
  .chat-column {
    padding-left: 8px;
    padding-right: 8px;
  }

  .chat-message--intro {
    font-size: 18px;
    line-height: 22px;
  }

  .chat-input-field,
  .chat-bubble {
    font-size: 14px;
    line-height: 22px;
  }

  .chat-hint {
    text-align: center;
  }

  /* КНОПКА — оставляем, но чтобы влезала в 50px */
  .chat-send {
    width: auto;
    padding: 0 16px;
    height: 38px;
    border-radius: 19px;
    margin-right: 10px;
    font-size: 14px;
    line-height: 22px;
  }

  /* ВОТ ТО, ЧТО ТЫ ПРОСИЛ:
     высота поля ввода на мобиле 50px */
  .chat-input {
    height: 50px;
    border-radius: 25px;
  }

  /* инпут прибит выше шапки на 18px */
  .chat-input-wrapper {
    bottom: calc(var(--header-h) + var(--gap-mobile));
  }

  /* и добавляем меньше “запаса” снизу у скролла */
  .chat-content {
    padding-bottom: calc(50px + 18px + 20px + var(--gap-mobile));
  }
}

/* ===============================
   MOBILE HEADER
================================ */

.burger {
  display: none;
  position: relative;
  width: 22px;
  height: 22px;
  background: none;
  border: none;
  cursor: pointer;
  z-index: 70; /* выше меню и шапки */
}

.burger span {
  position: absolute;
  left: 0;
  width: 22px;
  height: 1px;
  background: #000;
  top: 50%;
  transform-origin: center;
  transition: transform 0.25s ease, opacity 0.25s ease;
}

.burger span:nth-child(1) {
  transform: translateY(-4px);
}

.burger span:nth-child(2) {
  transform: translateY(4px);
}

.burger.is-active span:nth-child(1) {
  transform: rotate(45deg);
}

.burger.is-active span:nth-child(2) {
  transform: rotate(-45deg);
}

@media (max-width: 860px) {
  .header-left-nav,
  .header-right--chat a {
    display: none;
  }

  .burger {
    display: block;
  }

  .header-center {
    margin: 0 auto;
  }
}

/* ===============================
   MOBILE MENU PANEL
   Меню всегда ВЫШЕ шапки (шапка поверх меню),
   поэтому ставим bottom: var(--header-h)
================================ */

.mobile-menu {
  position: fixed;
  left: 0;
  right: 0;

  bottom: var(--header-h);
  height: 260px;

  background: #eff5fb;
  padding: 18px;

  display: flex;
  flex-direction: column;

  transform: translateY(100%);
  transition: transform 0.35s ease;

  z-index: 40; /* ниже шапки */
}

.mobile-menu.is-open {
  transform: translateY(0);
}

.mobile-menu-top {
  display: flex;
  flex-direction: column;
}

.mobile-menu-top a {
  display: block;
  font-size: 26px;
  line-height: 42px;
  font-weight: 500;
  color: #262626;
  text-decoration: none;
}

.mobile-menu-bottom {
  margin-top: auto;
  display: flex;
  flex-direction: column;
}

.mobile-menu-bottom a {
  display: block;
  font-size: 14px;
  line-height: 18px;
  font-weight: 400;
  color: #262626;
  text-decoration: none;
}
